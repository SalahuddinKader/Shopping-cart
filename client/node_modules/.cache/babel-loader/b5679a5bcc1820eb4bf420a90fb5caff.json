{"ast":null,"code":"var _jsxFileName = \"/Users/riyadh/Desktop/shopping-cart/e-cart/src/component/section/cart.jsx\";\nimport React, { useContext, useEffect } from \"react\";\nimport { DataContext } from \"../context\";\nimport { Link } from \"react-router-dom\";\nimport Colors from \"./colors\";\nimport \"../css/Details.css\";\nimport \"../css/Cart.css\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport StripeCheckout from \"react-stripe-checkout\";\ntoast.configure();\n\nconst Cart = () => {\n  const {\n    cart,\n    handleIncrement,\n    handleDecrement,\n    handleRemove,\n    total,\n    handleTotal\n  } = useContext(DataContext); //Pay With Card HandleToken\n  // async function handleToken(token, addresses) {\n  //   const response = await fetch(\"http://localhost:8282/payment\", {\n  //     token,\n  //     cart,\n  //     total,\n  //   });\n  //   const { status } = response;\n  //   console.log(\"Response:\", response);\n  //   if (status === \"success\") {\n  //     toast(\"Success! Check email for details\", { type: \"success\" });\n  //   } else {\n  //     toast(\"Something went wrong\", { type: \"error\" });\n  //   }\n  // }\n\n  const handleToken = token => {\n    const body = {\n      token,\n      cart,\n      total\n    };\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    return fetch(`http://localhost:8282/payment`, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify(body)\n    }).then(response => {\n      toast(\" Success! Check email for details\", {\n        type: \"success\"\n      });\n      console.log(\"RESPONSE\", response);\n    }).catch(() => {\n      toast(\"Something went wrong\", {\n        type: \"error\"\n      });\n    });\n  }; //Added to Total in the cart\n\n\n  useEffect(() => {\n    handleTotal();\n  }, []); //Without product showing empty cart\n\n  if (cart.length === 0) {\n    return /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, \" Your Cart is Currently Empty\");\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, cart.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details cart\",\n      key: item._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.src,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, \"\\xA3\", item.price * item.count)), /*#__PURE__*/React.createElement(Colors, {\n      colors: item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, item.description), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, item.content), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"amount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"count\",\n      onClick: () => handleDecrement(item._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, \"-\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, item.count), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"count\",\n      onClick: () => handleIncrement(item._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, \"+\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"delete\",\n      onClick: () => handleRemove(item._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, \"Remove\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/product\",\n      style: {\n        background: \"crimson\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, \"Continue Shopping\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"checkout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }, \"Total: \\xA3\", total)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pay-with-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(StripeCheckout, {\n      stripeKey: \"pk_test_51HAlmnIfOyLdLwzAz2piAWlcCJcAPATSEkCyxcUG7m1F80xXqr4wd8FoFWqYEfXUUEEgDGBx5G9aXG4IenAw46fh00x1Qgnr7v\",\n      token: handleToken,\n      name: \"NIKE\",\n      billingAddress: true,\n      shippingAddress: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }))));\n  }\n};\n\nexport default Cart;","map":{"version":3,"sources":["/Users/riyadh/Desktop/shopping-cart/e-cart/src/component/section/cart.jsx"],"names":["React","useContext","useEffect","DataContext","Link","Colors","axios","toast","StripeCheckout","configure","Cart","cart","handleIncrement","handleDecrement","handleRemove","total","handleTotal","handleToken","token","body","headers","fetch","method","JSON","stringify","then","response","type","console","log","catch","length","textAlign","map","item","_id","src","title","price","count","description","content","background"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { DataContext } from \"../context\";\nimport { Link } from \"react-router-dom\";\nimport Colors from \"./colors\";\nimport \"../css/Details.css\";\nimport \"../css/Cart.css\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport StripeCheckout from \"react-stripe-checkout\";\ntoast.configure();\n\nconst Cart = () => {\n  const {\n    cart,\n    handleIncrement,\n    handleDecrement,\n    handleRemove,\n    total,\n    handleTotal,\n  } = useContext(DataContext);\n\n  //Pay With Card HandleToken\n  // async function handleToken(token, addresses) {\n  //   const response = await fetch(\"http://localhost:8282/payment\", {\n  //     token,\n  //     cart,\n  //     total,\n  //   });\n  //   const { status } = response;\n  //   console.log(\"Response:\", response);\n  //   if (status === \"success\") {\n  //     toast(\"Success! Check email for details\", { type: \"success\" });\n  //   } else {\n  //     toast(\"Something went wrong\", { type: \"error\" });\n  //   }\n  // }\n\n  const handleToken = (token) => {\n    const body = {\n      token,\n      cart,\n      total,\n    };\n    const headers = {\n      \"Content-Type\": \"application/json\",\n    };\n    return fetch(`http://localhost:8282/payment`, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify(body),\n    })\n      .then((response) => {\n        toast(\" Success! Check email for details\", { type: \"success\" });\n        console.log(\"RESPONSE\", response);\n      })\n      .catch(() => {\n        toast(\"Something went wrong\", { type: \"error\" });\n      });\n  };\n\n  //Added to Total in the cart\n  useEffect(() => {\n    handleTotal();\n  }, []);\n\n  //Without product showing empty cart\n  if (cart.length === 0) {\n    return (\n      <h2 style={{ textAlign: \"center\" }}> Your Cart is Currently Empty</h2>\n    );\n  } else {\n    return (\n      <div>\n        {cart.map((item) => (\n          <div className=\"details cart\" key={item._id}>\n            <img src={item.src} alt=\"\" />\n            <div className=\"box\">\n              <div className=\"row\">\n                <h2>{item.title}</h2>\n                <span>£{item.price * item.count}</span>\n              </div>\n\n              <Colors colors={item} />\n\n              <p>{item.description}</p>\n              <p>{item.content}</p>\n              <div className=\"amount\">\n                <button\n                  className=\"count\"\n                  onClick={() => handleDecrement(item._id)}\n                >\n                  -\n                </button>\n                <span>{item.count}</span>\n                <button\n                  className=\"count\"\n                  onClick={() => handleIncrement(item._id)}\n                >\n                  +\n                </button>\n              </div>\n            </div>\n            <div className=\"delete\" onClick={() => handleRemove(item._id)}>\n              Remove\n            </div>\n          </div>\n        ))}\n        <div className=\"total\">\n          <Link to=\"/product\" style={{ background: \"crimson\" }}>\n            Continue Shopping\n          </Link>\n          <div className=\"checkout\">\n            {/* <Link to=\"/checkout\">Checkout</Link> */}\n          </div>\n          <h3>Total: £{total}</h3>\n        </div>\n        <div className=\"pay-with-card\">\n          <div className=\"container\">\n            <StripeCheckout\n              stripeKey=\"pk_test_51HAlmnIfOyLdLwzAz2piAWlcCJcAPATSEkCyxcUG7m1F80xXqr4wd8FoFWqYEfXUUEEgDGBx5G9aXG4IenAw46fh00x1Qgnr7v\"\n              token={handleToken}\n              name=\"NIKE\"\n              billingAddress\n              shippingAddress\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}