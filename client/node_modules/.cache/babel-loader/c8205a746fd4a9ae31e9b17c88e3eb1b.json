{"ast":null,"code":"var _jsxFileName = \"/Users/riyadh/Desktop/shopping-cart/e-cart/src/component/section/cart.jsx\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { DataContext } from \"../context\";\nimport { Link } from \"react-router-dom\";\nimport Colors from \"./colors\";\nimport \"../css/Details.css\";\nimport \"../css/Cart.css\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport StripeCheckout from \"react-stripe-checkout\";\ntoast.configure();\n\nconst Cart = props => {\n  const {\n    products,\n    cart,\n    handleIncrement,\n    handleDecrement,\n    handleRemove,\n    total,\n    handleTotal,\n    removeAll\n  } = useContext(DataContext);\n  const [product, setProduct] = useState([]);\n  useEffect(() => {\n    const product = products.filter(item => item._id === props.match.params.id);\n    setProduct(product);\n  }, []);\n  console.log(product.title); //Pay With Card HandleToken\n\n  const handleToken = token => {\n    const body = {\n      token,\n      product,\n      total\n    };\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    return fetch(`http://localhost:8282/payment`, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify(body)\n    }).then(response => {\n      toast(\" Success! Check email for details\", {\n        type: \"success\"\n      });\n      removeAll();\n      console.log(response);\n    }).catch(() => {\n      toast(\"Something went wrong\", {\n        type: \"error\"\n      });\n    });\n  }; //Added to Total in the cart\n\n\n  useEffect(() => {\n    handleTotal();\n  }, []); //Without product showing empty cart\n\n  if (cart.length === 0) {\n    return /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, \" Your Cart is Currently Empty\");\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, cart.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details cart\",\n      key: item._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"cart-img\",\n      src: item.src,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, \"\\xA3\", item.price * item.count)), /*#__PURE__*/React.createElement(Colors, {\n      colors: item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, item.description), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, item.content), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"amount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"count\",\n      onClick: () => handleDecrement(item._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, \"-\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, item.count), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"count\",\n      onClick: () => handleIncrement(item._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, \"+\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"delete\",\n      onClick: () => handleRemove(item._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, \"Remove\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total-checkout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, \"Total: \\xA3\", total)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/product\",\n      style: {\n        background: \"crimson\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, \"Continue Shopping\")), /*#__PURE__*/React.createElement(StripeCheckout, {\n      stripeKey: \"pk_test_51HAlmnIfOyLdLwzAz2piAWlcCJcAPATSEkCyxcUG7m1F80xXqr4wd8FoFWqYEfXUUEEgDGBx5G9aXG4IenAw46fh00x1Qgnr7v\",\n      token: handleToken,\n      name: \"NIKE\",\n      billingAddress: true,\n      shippingAddress: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary btn-lg  \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, \"Checkout\"))));\n  }\n};\n\nexport default Cart;","map":{"version":3,"sources":["/Users/riyadh/Desktop/shopping-cart/e-cart/src/component/section/cart.jsx"],"names":["React","useContext","useEffect","useState","DataContext","Link","Colors","toast","StripeCheckout","configure","Cart","props","products","cart","handleIncrement","handleDecrement","handleRemove","total","handleTotal","removeAll","product","setProduct","filter","item","_id","match","params","id","console","log","title","handleToken","token","body","headers","fetch","method","JSON","stringify","then","response","type","catch","length","textAlign","map","src","price","count","description","content","background"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { DataContext } from \"../context\";\nimport { Link } from \"react-router-dom\";\nimport Colors from \"./colors\";\nimport \"../css/Details.css\";\nimport \"../css/Cart.css\";\n\nimport { toast } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport StripeCheckout from \"react-stripe-checkout\";\ntoast.configure();\n\nconst Cart = (props) => {\n  const {\n    products,\n    cart,\n    handleIncrement,\n    handleDecrement,\n    handleRemove,\n    total,\n    handleTotal,\n    removeAll,\n  } = useContext(DataContext);\n\n  const [product, setProduct] = useState([]);\n\n  useEffect(() => {\n    const product = products.filter(\n      (item) => item._id === props.match.params.id\n    );\n    setProduct(product);\n  }, []);\n  console.log(product.title);\n  //Pay With Card HandleToken\n  const handleToken = (token) => {\n    const body = {\n      token,\n      product,\n      total,\n    };\n\n    const headers = {\n      \"Content-Type\": \"application/json\",\n    };\n    return fetch(`http://localhost:8282/payment`, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify(body),\n    })\n      .then((response) => {\n        toast(\" Success! Check email for details\", { type: \"success\" });\n\n        removeAll();\n\n        console.log(response);\n      })\n      .catch(() => {\n        toast(\"Something went wrong\", { type: \"error\" });\n      });\n  };\n\n  //Added to Total in the cart\n  useEffect(() => {\n    handleTotal();\n  }, []);\n\n  //Without product showing empty cart\n  if (cart.length === 0) {\n    return (\n      <h2 style={{ textAlign: \"center\" }}> Your Cart is Currently Empty</h2>\n    );\n  } else {\n    return (\n      <div>\n        {cart.map((item) => (\n          <div className=\"details cart\" key={item._id}>\n            <img className=\"cart-img\" src={item.src} alt=\"\" />\n            <div className=\"box\">\n              <div className=\"row\">\n                <h2>{item.title}</h2>\n                <span>£{item.price * item.count}</span>\n              </div>\n\n              <Colors colors={item} />\n\n              <p>{item.description}</p>\n              <p>{item.content}</p>\n              <div className=\"amount\">\n                <button\n                  className=\"count\"\n                  onClick={() => handleDecrement(item._id)}\n                >\n                  -\n                </button>\n                <span>{item.count}</span>\n                <button\n                  className=\"count\"\n                  onClick={() => handleIncrement(item._id)}\n                >\n                  +\n                </button>\n              </div>\n            </div>\n\n            <div className=\"delete\" onClick={() => handleRemove(item._id)}>\n              Remove\n            </div>\n          </div>\n        ))}\n        <div className=\"total-checkout\">\n          <h3>Total: £{total}</h3>\n        </div>\n\n        <div className=\"total\">\n          <div className=\"total\">\n            <Link to=\"/product\" style={{ background: \"crimson\" }}>\n              Continue Shopping\n            </Link>\n          </div>\n          <StripeCheckout\n            stripeKey=\"pk_test_51HAlmnIfOyLdLwzAz2piAWlcCJcAPATSEkCyxcUG7m1F80xXqr4wd8FoFWqYEfXUUEEgDGBx5G9aXG4IenAw46fh00x1Qgnr7v\"\n            token={handleToken}\n            name=\"NIKE\"\n            billingAddress\n            shippingAddress\n          >\n            <button className=\"btn btn-primary btn-lg  \">Checkout</button>\n          </StripeCheckout>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}