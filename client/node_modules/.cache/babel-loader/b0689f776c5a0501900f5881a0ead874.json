{"ast":null,"code":"var _jsxFileName = \"/Users/riyadh/Desktop/shopping-cart/e-cart-old-copy/src/component/backDash/DashCart.jsx\";\nimport React, { useContext, useEffect } from \"react\";\nimport { DataContext } from \"../context\";\nimport { Link } from \"react-router-dom\";\nimport Colors from \"../section/colors\";\nimport \"../css/Details.css\";\nimport \"../css/Cart.css\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport StripeCheckout from \"react-stripe-checkout\";\ntoast.configure();\n\nconst DashCart = () => {\n  const {\n    products,\n    cart,\n    handleIncrement,\n    handleDecrement,\n    handleRemove,\n    total,\n    handleTotal,\n    removeAll\n  } = useContext(DataContext);\n\n  const handleToken = token => {\n    const body = {\n      token,\n      products,\n      total\n    };\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    return fetch(`http://localhost:5000/payment`, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify(body)\n    }).then(response => {\n      toast(\" Success! Check email for details\", {\n        type: \"success\"\n      });\n      removeAll();\n      console.log(response);\n    }).catch(() => {\n      toast(\"Something went wrong\", {\n        type: \"error\"\n      });\n    });\n  }; //Pay With Card HandleToken\n  //Added to Total in the cart\n\n\n  useEffect(() => {\n    handleTotal();\n  }, []); //Without product showing empty cart\n\n  if (cart.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, \"Your Cart is Currently Empty\"), \" \");\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, cart.map(item => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details cart\",\n      key: item._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"cart-img\",\n      src: item.src,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, \"\\xA3\", item.price * item.count)), /*#__PURE__*/React.createElement(Colors, {\n      colors: item,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }, item.description), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }, item.content), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"amount\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"count\",\n      onClick: () => handleDecrement(item._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, \"-\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, item.count), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"count\",\n      onClick: () => handleIncrement(item._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \"+\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"delete\",\n      onClick: () => handleRemove(item._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, \"Remove\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total-checkout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, \"Total: \\xA3\", total)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/products\",\n      style: {\n        background: \"crimson\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, \"Continue Shopping\")), /*#__PURE__*/React.createElement(StripeCheckout, {\n      stripeKey: \"pk_test_51HAlmnIfOyLdLwzAz2piAWlcCJcAPATSEkCyxcUG7m1F80xXqr4wd8FoFWqYEfXUUEEgDGBx5G9aXG4IenAw46fh00x1Qgnr7v\",\n      token: handleToken,\n      name: \"NIKE\",\n      billingAddress: true,\n      shippingAddress: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary btn-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, \"Checkout\"))));\n  }\n};\n\nexport default DashCart;","map":{"version":3,"sources":["/Users/riyadh/Desktop/shopping-cart/e-cart-old-copy/src/component/backDash/DashCart.jsx"],"names":["React","useContext","useEffect","DataContext","Link","Colors","toast","StripeCheckout","configure","DashCart","products","cart","handleIncrement","handleDecrement","handleRemove","total","handleTotal","removeAll","handleToken","token","body","headers","fetch","method","JSON","stringify","then","response","type","console","log","catch","length","textAlign","map","item","_id","src","title","price","count","description","content","background"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,SAASC,WAAT,QAA4B,YAA5B;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAO,oBAAP;AACA,OAAO,iBAAP;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,OAAO,uCAAP;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACAD,KAAK,CAACE,SAAN;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AACrB,QAAM;AACJC,IAAAA,QADI;AAEJC,IAAAA,IAFI;AAGJC,IAAAA,eAHI;AAIJC,IAAAA,eAJI;AAKJC,IAAAA,YALI;AAMJC,IAAAA,KANI;AAOJC,IAAAA,WAPI;AAQJC,IAAAA;AARI,MASFhB,UAAU,CAACE,WAAD,CATd;;AAWA,QAAMe,WAAW,GAAIC,KAAD,IAAW;AAC7B,UAAMC,IAAI,GAAG;AACXD,MAAAA,KADW;AAEXT,MAAAA,QAFW;AAGXK,MAAAA;AAHW,KAAb;AAMA,UAAMM,OAAO,GAAG;AACd,sBAAgB;AADF,KAAhB;AAGA,WAAOC,KAAK,CAAE,+BAAF,EAAkC;AAC5CC,MAAAA,MAAM,EAAE,MADoC;AAE5CF,MAAAA,OAF4C;AAG5CD,MAAAA,IAAI,EAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf;AAHsC,KAAlC,CAAL,CAKJM,IALI,CAKEC,QAAD,IAAc;AAClBrB,MAAAA,KAAK,CAAC,mCAAD,EAAsC;AAAEsB,QAAAA,IAAI,EAAE;AAAR,OAAtC,CAAL;AAEAX,MAAAA,SAAS;AAETY,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACD,KAXI,EAYJI,KAZI,CAYE,MAAM;AACXzB,MAAAA,KAAK,CAAC,sBAAD,EAAyB;AAAEsB,QAAAA,IAAI,EAAE;AAAR,OAAzB,CAAL;AACD,KAdI,CAAP;AAeD,GAzBD,CAZqB,CAuCrB;AAEA;;;AACA1B,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,WAAW;AACZ,GAFQ,EAEN,EAFM,CAAT,CA1CqB,CA8CrB;;AACA,MAAIL,IAAI,CAACqB,MAAL,KAAgB,CAApB,EAAuB;AACrB,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADF,EACwE,GADxE,CADF;AAKD,GAND,MAMO;AACL,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGtB,IAAI,CAACuB,GAAL,CAAUC,IAAD,iBACR;AAAK,MAAA,SAAS,EAAC,cAAf;AAA8B,MAAA,GAAG,EAAEA,IAAI,CAACC,GAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAA0B,MAAA,GAAG,EAAED,IAAI,CAACE,GAApC;AAAyC,MAAA,GAAG,EAAC,EAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKF,IAAI,CAACG,KAAV,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAQH,IAAI,CAACI,KAAL,GAAaJ,IAAI,CAACK,KAA1B,CAFF,CADF,eAME,oBAAC,MAAD;AAAQ,MAAA,MAAM,EAAEL,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIA,IAAI,CAACM,WAAT,CARF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIN,IAAI,CAACO,OAAT,CATF,eAUE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,SAAS,EAAC,OADZ;AAEE,MAAA,OAAO,EAAE,MAAM7B,eAAe,CAACsB,IAAI,CAACC,GAAN,CAFhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOD,IAAI,CAACK,KAAZ,CAPF,eAQE;AACE,MAAA,SAAS,EAAC,OADZ;AAEE,MAAA,OAAO,EAAE,MAAM5B,eAAe,CAACuB,IAAI,CAACC,GAAN,CAFhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WARF,CAVF,CAFF,eA6BE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAwB,MAAA,OAAO,EAAE,MAAMtB,YAAY,CAACqB,IAAI,CAACC,GAAN,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA7BF,CADD,CADH,eAoCE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAarB,KAAb,CADF,CApCF,eAwCE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,WAAT;AAAqB,MAAA,KAAK,EAAE;AAAE4B,QAAAA,UAAU,EAAE;AAAd,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,CADF,eAME,oBAAC,cAAD;AACE,MAAA,SAAS,EAAC,6GADZ;AAEE,MAAA,KAAK,EAAEzB,WAFT;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,cAAc,MAJhB;AAKE,MAAA,eAAe,MALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAOE;AAAQ,MAAA,SAAS,EAAC,wBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,CANF,CAxCF,CADF;AA2DD;AACF,CAlHD;;AAoHA,eAAeT,QAAf","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { DataContext } from \"../context\";\nimport { Link } from \"react-router-dom\";\n\nimport Colors from \"../section/colors\";\nimport \"../css/Details.css\";\nimport \"../css/Cart.css\";\nimport { toast } from \"react-toastify\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport StripeCheckout from \"react-stripe-checkout\";\ntoast.configure();\n\nconst DashCart = () => {\n  const {\n    products,\n    cart,\n    handleIncrement,\n    handleDecrement,\n    handleRemove,\n    total,\n    handleTotal,\n    removeAll,\n  } = useContext(DataContext);\n\n  const handleToken = (token) => {\n    const body = {\n      token,\n      products,\n      total,\n    };\n\n    const headers = {\n      \"Content-Type\": \"application/json\",\n    };\n    return fetch(`http://localhost:5000/payment`, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify(body),\n    })\n      .then((response) => {\n        toast(\" Success! Check email for details\", { type: \"success\" });\n\n        removeAll();\n\n        console.log(response);\n      })\n      .catch(() => {\n        toast(\"Something went wrong\", { type: \"error\" });\n      });\n  };\n\n  //Pay With Card HandleToken\n\n  //Added to Total in the cart\n  useEffect(() => {\n    handleTotal();\n  }, []);\n\n  //Without product showing empty cart\n  if (cart.length === 0) {\n    return (\n      <div>\n        <h2 style={{ textAlign: \"center\" }}>Your Cart is Currently Empty</h2>{\" \"}\n      </div>\n    );\n  } else {\n    return (\n      <div>\n        {cart.map((item) => (\n          <div className=\"details cart\" key={item._id}>\n            <img className=\"cart-img\" src={item.src} alt=\"\" />\n            <div className=\"box\">\n              <div className=\"row\">\n                <h2>{item.title}</h2>\n                <span>£{item.price * item.count}</span>\n              </div>\n\n              <Colors colors={item} />\n\n              <p>{item.description}</p>\n              <p>{item.content}</p>\n              <div className=\"amount\">\n                <button\n                  className=\"count\"\n                  onClick={() => handleDecrement(item._id)}\n                >\n                  -\n                </button>\n                <span>{item.count}</span>\n                <button\n                  className=\"count\"\n                  onClick={() => handleIncrement(item._id)}\n                >\n                  +\n                </button>\n              </div>\n            </div>\n\n            <div className=\"delete\" onClick={() => handleRemove(item._id)}>\n              Remove\n            </div>\n          </div>\n        ))}\n        <div className=\"total-checkout\">\n          <h3>Total: £{total}</h3>\n        </div>\n\n        <div className=\"total\">\n          <div className=\"total\">\n            <Link to=\"/products\" style={{ background: \"crimson\" }}>\n              Continue Shopping\n            </Link>\n          </div>\n          <StripeCheckout\n            stripeKey=\"pk_test_51HAlmnIfOyLdLwzAz2piAWlcCJcAPATSEkCyxcUG7m1F80xXqr4wd8FoFWqYEfXUUEEgDGBx5G9aXG4IenAw46fh00x1Qgnr7v\"\n            token={handleToken}\n            name=\"NIKE\"\n            billingAddress\n            shippingAddress\n          >\n            <button className=\"btn btn-primary btn-lg\">Checkout</button>\n          </StripeCheckout>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default DashCart;\n"]},"metadata":{},"sourceType":"module"}