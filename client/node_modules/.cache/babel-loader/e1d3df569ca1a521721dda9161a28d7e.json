{"ast":null,"code":"var _jsxFileName = \"/Users/riyadh/Desktop/shopping-cart/e-cart copy/src/component/Login.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DashBoard from \"./dashBoard\";\nimport axios from \"axios\";\nimport LoginDetails from \"./loginDetails\";\n\nfunction Login() {\n  const [isLogin, setIsLogin] = useState(false);\n  useEffect(() => {\n    const checkLogin = async () => {\n      const token = localStorage.getItem(\"tokenStore\");\n\n      if (token) {\n        const verified = await axios.get(\"/users/verify\", {\n          headers: {\n            Authorisation: token\n          }\n        });\n        console.log(verified);\n        setIsLogin(verified.data);\n        if (verified.data === false) return localStorage.clear();\n      } else {\n        setIsLogin(false);\n      }\n    };\n\n    checkLogin();\n  }, []); // const [user, setUser] = useState({\n  //   name: \"\",\n  //   email: \"\",\n  //   password: \"\",\n  //   password2: \"\",\n  // });\n  // const [err, setErr] = useState(\" \");\n  // const onChangeInput = (e) => {\n  //   const { name, value } = e.target;\n  //   setUser({ ...user, [name]: value });\n  //   setErr(\"\");\n  // };\n  // const loginSubmit = async (e) => {\n  //   e.preventDefault();\n  //   try {\n  //     const res = await axios.post(\"/users/login\", {\n  //       email: user.email,\n  //       password: user.password,\n  //     });\n  //     setUser({ email: \"\", password: \"\" });\n  //     localStorage.setItem(\"tokenStore\", res.data.token);\n  //     setIsLogin(true);\n  //   } catch (err) {\n  //     err.response.data.msg && setErr(err.response.data.msg);\n  //   }\n  // };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, isLogin ? /*#__PURE__*/React.createElement(DashBoard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 18\n    }\n  }) : /*#__PURE__*/React.createElement(LoginDetails, {\n    setIsLogin: setIsLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 34\n    }\n  })) // <div>\n  //   {isLogin ? (\n  //     <DashBoard />\n  //   ) : (\n  //     <div className=\"login\">\n  //       <div className=\"row mt-5\">\n  //         <div className=\"col-md-6 m-auto\">\n  //           <div className=\"card card-body\">\n  //             <h1 className=\"text-center mb-3 \">\n  //               <i className=\"fas fa-sign-in-alt\"></i> Login\n  //             </h1>\n  //             <form onSubmit={loginSubmit}>\n  //               <div className=\"form-group\">\n  //                 <label>Email</label>\n  //                 <input\n  //                   type=\"email\"\n  //                   id=\"login-email\"\n  //                   name=\"email\"\n  //                   className=\"form-control\"\n  //                   placeholder=\"Enter Email\"\n  //                   required\n  //                   value={user.email}\n  //                   onChange={onChangeInput}\n  //                 />\n  //               </div>\n  //               <div className=\"form-group\">\n  //                 <label>Password</label>\n  //                 <input\n  //                   type=\"password\"\n  //                   id=\"login-password\"\n  //                   name=\"password\"\n  //                   className=\"form-control\"\n  //                   placeholder=\"Enter Password\"\n  //                   required\n  //                   value={user.password}\n  //                   autoComplete=\"true\"\n  //                   onChange={onChangeInput}\n  //                 />\n  //               </div>\n  //               <button\n  //                 type=\"submit\"\n  //                 className=\"btn btn-primary btn-block bg-primary\"\n  //               >\n  //                 Login\n  //               </button>\n  //             </form>\n  //             <p className=\"lead mt-4\">\n  //               No Account? <a href=\"/register\">Register</a>\n  //             </p>\n  //             <h4>{err}</h4>\n  //           </div>\n  //         </div>\n  //       </div>\n  //     </div>\n  //   )}\n  // </div>\n  ;\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/riyadh/Desktop/shopping-cart/e-cart copy/src/component/Login.jsx"],"names":["React","useState","useEffect","Link","DashBoard","axios","LoginDetails","Login","isLogin","setIsLogin","checkLogin","token","localStorage","getItem","verified","get","headers","Authorisation","console","log","data","clear"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AACA,SAASC,KAAT,GAAiB;AACf,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,KAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMQ,UAAU,GAAG,YAAY;AAC7B,YAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAd;;AACA,UAAIF,KAAJ,EAAW;AACT,cAAMG,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAN,CAAU,eAAV,EAA2B;AAChDC,UAAAA,OAAO,EAAE;AAAEC,YAAAA,aAAa,EAAEN;AAAjB;AADuC,SAA3B,CAAvB;AAGAO,QAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACAL,QAAAA,UAAU,CAACK,QAAQ,CAACM,IAAV,CAAV;AACA,YAAIN,QAAQ,CAACM,IAAT,KAAkB,KAAtB,EAA6B,OAAOR,YAAY,CAACS,KAAb,EAAP;AAC9B,OAPD,MAOO;AACLZ,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,KAZD;;AAaAC,IAAAA,UAAU;AACX,GAfQ,EAeN,EAfM,CAAT,CAHe,CAmBf;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,OAAO,gBAAG,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,gBAAmB,oBAAC,YAAD;AAAc,IAAA,UAAU,EAAEC,UAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD7B,CADF,CAIE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3DF;AA6DD;;AAED,eAAeF,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DashBoard from \"./dashBoard\";\nimport axios from \"axios\";\nimport LoginDetails from \"./loginDetails\";\nfunction Login() {\n  const [isLogin, setIsLogin] = useState(false);\n\n  useEffect(() => {\n    const checkLogin = async () => {\n      const token = localStorage.getItem(\"tokenStore\");\n      if (token) {\n        const verified = await axios.get(\"/users/verify\", {\n          headers: { Authorisation: token },\n        });\n        console.log(verified);\n        setIsLogin(verified.data);\n        if (verified.data === false) return localStorage.clear();\n      } else {\n        setIsLogin(false);\n      }\n    };\n    checkLogin();\n  }, []);\n  // const [user, setUser] = useState({\n  //   name: \"\",\n  //   email: \"\",\n  //   password: \"\",\n  //   password2: \"\",\n  // });\n  // const [err, setErr] = useState(\" \");\n\n  // const onChangeInput = (e) => {\n  //   const { name, value } = e.target;\n  //   setUser({ ...user, [name]: value });\n  //   setErr(\"\");\n  // };\n\n  // const loginSubmit = async (e) => {\n  //   e.preventDefault();\n  //   try {\n  //     const res = await axios.post(\"/users/login\", {\n  //       email: user.email,\n  //       password: user.password,\n  //     });\n  //     setUser({ email: \"\", password: \"\" });\n  //     localStorage.setItem(\"tokenStore\", res.data.token);\n  //     setIsLogin(true);\n  //   } catch (err) {\n  //     err.response.data.msg && setErr(err.response.data.msg);\n  //   }\n  // };\n\n  return (\n    <div>\n      {isLogin ? <DashBoard /> : <LoginDetails setIsLogin={setIsLogin} />}\n    </div>\n    // <div>\n    //   {isLogin ? (\n    //     <DashBoard />\n    //   ) : (\n    //     <div className=\"login\">\n    //       <div className=\"row mt-5\">\n    //         <div className=\"col-md-6 m-auto\">\n    //           <div className=\"card card-body\">\n    //             <h1 className=\"text-center mb-3 \">\n    //               <i className=\"fas fa-sign-in-alt\"></i> Login\n    //             </h1>\n    //             <form onSubmit={loginSubmit}>\n    //               <div className=\"form-group\">\n    //                 <label>Email</label>\n    //                 <input\n    //                   type=\"email\"\n    //                   id=\"login-email\"\n    //                   name=\"email\"\n    //                   className=\"form-control\"\n    //                   placeholder=\"Enter Email\"\n    //                   required\n    //                   value={user.email}\n    //                   onChange={onChangeInput}\n    //                 />\n    //               </div>\n    //               <div className=\"form-group\">\n    //                 <label>Password</label>\n    //                 <input\n    //                   type=\"password\"\n    //                   id=\"login-password\"\n    //                   name=\"password\"\n    //                   className=\"form-control\"\n    //                   placeholder=\"Enter Password\"\n    //                   required\n    //                   value={user.password}\n    //                   autoComplete=\"true\"\n    //                   onChange={onChangeInput}\n    //                 />\n    //               </div>\n    //               <button\n    //                 type=\"submit\"\n    //                 className=\"btn btn-primary btn-block bg-primary\"\n    //               >\n    //                 Login\n    //               </button>\n    //             </form>\n    //             <p className=\"lead mt-4\">\n    //               No Account? <a href=\"/register\">Register</a>\n    //             </p>\n    //             <h4>{err}</h4>\n    //           </div>\n    //         </div>\n    //       </div>\n    //     </div>\n    //   )}\n    // </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}